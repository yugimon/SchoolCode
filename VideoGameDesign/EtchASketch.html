<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>EtchASketch</title>
	<style type = 'text/css'>
		canvas { border: 1px solid black; }
	</style>
</head>
<body>
	<h1>Sketch</h1>
	<canvas id='canvas' width='800' height='600'></canvas>
	<script type='text/javascript'>
		var WIDTH = 800;
		var HEIGHT = 600;
		var FPS = 60;
		
		var boxWidth = 10;
		var boxHeight = 10;
		
		var pX = 0;
		var pY = 0;
		var pDx = 5;
		var pDy = 5;
		
		var canvasElement = document.getElementById('canvas');
		canvasElement.width = WIDTH;
		canvasElement.height = HEIGHT;
		var canvas = canvasElement;
		var color = "#FF0000";
		
		if (canvasElement.getContext) {
			canvas = canvasElement.getContext("2d");
			
			setInterval(function() {
				draw();
			}, 1000/FPS);
			
		}
		else {
			alert("Your bowser doesn't seem to support the <canvasElement. Sorry.");
		}
		
		
		
		function draw() {
			//canvas.clearRect(0,0, WIDTH, HEIGHT);
			canvas.fillStyle = color;
			if (color == "#FF0000")
				color = "#00FF00";
			else if (color == "#00FF00")
				color = "#0000FF";
			else
				color = "#FF0000";
			
			canvas.fillRect(pX , pY , boxWidth, boxHeight);
		}
		
		
		function handleKeypress(evt) {
			if(evt.keyCode == 38)
				pY -= pDy;
			if (evt.keyCode == 40)
				pY += pDy;
			if (evt.keyCode == 37)
				pX -= pDx;
			if(evt.keyCode == 39)
				pX += pDx;
				
			if( 37 <= evt.keyCode && evt.keyCode <= 40)
				evt.preventDefault();
		}
		
		document.addEventListener('keydown', handleKeypress);
			
		
	</script>
</body>
</html>